<sa-base-page>
  <ng-content class="page-header" select=".page-header"></ng-content>
  <div class="page-body">
    <mat-sidenav-container>
      <mat-sidenav
        *ngIf="(viewPortSize$ | async) != 'xs'"
        #tableOfContents
        mode="side"
        [disableClose]="true"
        opened
        position="end"
        [fixedInViewport]="true"
        [fixedTopGap]="64"
        style="margin: 20px !important"
      >
        <sa-table-of-contents [primaryMenu]="primaryMenu" [secondaryMenu]="secondaryMenu"> </sa-table-of-contents>
      </mat-sidenav>

      <mat-sidenav-content>
        <div class="mdc-layout-grid" fxLayout="column">
          <ng-content select=".sub-header"></ng-content>
          <mat-accordion *ngIf="(viewPortSize$ | async) == 'xs'">
            <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
              <mat-expansion-panel-header>
                <mat-panel-title *ngIf="panelOpenState" class="layout-section-title">
                  Hide Table of Contents
                </mat-panel-title>
                <mat-panel-title *ngIf="!panelOpenState" class="layout-section-title">
                  Show Table of Contents
                </mat-panel-title>
              </mat-expansion-panel-header>
              <sa-table-of-contents [primaryMenu]="navigationList"> </sa-table-of-contents>
            </mat-expansion-panel>
          </mat-accordion>
          <ng-content></ng-content>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</sa-base-page>
